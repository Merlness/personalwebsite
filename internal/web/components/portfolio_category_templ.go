// Code generated by templ - DO NOT EDIT.

// templ: version: v0.3.977
package components

//lint:file-ignore SA4006 This context is only used if a nested component is present.

import "github.com/a-h/templ"
import templruntime "github.com/a-h/templ/runtime"

import "personalwebsite/internal/portfolio"
import "fmt"

func PortfolioCategory(category portfolio.Category, allCategories []portfolio.Category, photoToBlog map[string]string) templ.Component {
	return templruntime.GeneratedTemplate(func(templ_7745c5c3_Input templruntime.GeneratedComponentInput) (templ_7745c5c3_Err error) {
		templ_7745c5c3_W, ctx := templ_7745c5c3_Input.Writer, templ_7745c5c3_Input.Context
		if templ_7745c5c3_CtxErr := ctx.Err(); templ_7745c5c3_CtxErr != nil {
			return templ_7745c5c3_CtxErr
		}
		templ_7745c5c3_Buffer, templ_7745c5c3_IsBuffer := templruntime.GetBuffer(templ_7745c5c3_W)
		if !templ_7745c5c3_IsBuffer {
			defer func() {
				templ_7745c5c3_BufErr := templruntime.ReleaseBuffer(templ_7745c5c3_Buffer)
				if templ_7745c5c3_Err == nil {
					templ_7745c5c3_Err = templ_7745c5c3_BufErr
				}
			}()
		}
		ctx = templ.InitializeContext(ctx)
		templ_7745c5c3_Var1 := templ.GetChildren(ctx)
		if templ_7745c5c3_Var1 == nil {
			templ_7745c5c3_Var1 = templ.NopComponent
		}
		ctx = templ.ClearChildren(ctx)
		templ_7745c5c3_Var2 := templruntime.GeneratedTemplate(func(templ_7745c5c3_Input templruntime.GeneratedComponentInput) (templ_7745c5c3_Err error) {
			templ_7745c5c3_W, ctx := templ_7745c5c3_Input.Writer, templ_7745c5c3_Input.Context
			templ_7745c5c3_Buffer, templ_7745c5c3_IsBuffer := templruntime.GetBuffer(templ_7745c5c3_W)
			if !templ_7745c5c3_IsBuffer {
				defer func() {
					templ_7745c5c3_BufErr := templruntime.ReleaseBuffer(templ_7745c5c3_Buffer)
					if templ_7745c5c3_Err == nil {
						templ_7745c5c3_Err = templ_7745c5c3_BufErr
					}
				}()
			}
			ctx = templ.InitializeContext(ctx)
			templ_7745c5c3_Err = templ.Raw(fmt.Sprintf(`<script>window.categoryData = { images: %s, photoToBlog: %s };</script>`, ToJSON(category.Images), ToJSON(photoToBlog))).Render(ctx, templ_7745c5c3_Buffer)
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 1, " <div x-data=\"{\n            images: window.categoryData.images,\n            photoToBlog: window.categoryData.photoToBlog,\n            lightboxOpen: false,\n            lightboxIndex: 0,\n            \n            get lightboxImage() {\n                return this.images[this.lightboxIndex];\n            },\n            \n            openLightbox(index) {\n                this.lightboxIndex = index;\n                this.lightboxOpen = true;\n                document.body.style.overflow = 'hidden';\n            },\n\n            closeLightbox() {\n                this.lightboxOpen = false;\n                document.body.style.overflow = '';\n            },\n\n            nextImage() {\n                this.lightboxIndex = (this.lightboxIndex + 1) % this.images.length;\n            },\n\n            prevImage() {\n                this.lightboxIndex = (this.lightboxIndex - 1 + this.images.length) % this.images.length;\n            }\n        }\" class=\"min-h-screen\"><div class=\"p-4 md:p-8\"><!-- Header --><div class=\"flex justify-between items-center mb-8 sticky top-0 backdrop-blur py-4 z-10 border-b\" style=\"background-color: var(--color-bg-primary); border-color: var(--color-border);\"><h1 class=\"text-3xl font-serif\" style=\"color: var(--color-text-primary);\">")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			var templ_7745c5c3_Var3 string
			templ_7745c5c3_Var3, templ_7745c5c3_Err = templ.JoinStringErrs(category.Name)
			if templ_7745c5c3_Err != nil {
				return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/components/portfolio_category.templ`, Line: 42, Col: 109}
			}
			_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var3))
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 2, "</h1><a href=\"/portfolio\" class=\"hover:opacity-70 transition-opacity p-2 flex items-center gap-2 group\" style=\"color: var(--color-text-secondary);\"><svg xmlns=\"http://www.w3.org/2000/svg\" class=\"h-6 w-6 group-hover:-translate-x-1 transition-transform\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\"><path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M10 19l-7-7m0 0l7-7m-7 7h18\"></path></svg> <span class=\"hidden md:inline\">Back to Portfolio</span></a></div><!-- Images Grid --><div class=\"flex flex-wrap gap-2\">")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			for i, img := range category.Images {
				templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 3, "<div @click=\"")
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				var templ_7745c5c3_Var4 string
				templ_7745c5c3_Var4, templ_7745c5c3_Err = templ.JoinStringErrs(fmt.Sprintf("openLightbox(%d)", i))
				if templ_7745c5c3_Err != nil {
					return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/components/portfolio_category.templ`, Line: 54, Col: 72}
				}
				_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var4))
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 4, "\" class=\"h-64 md:h-80 flex-grow relative cursor-pointer group overflow-hidden border\" style=\"border-color: var(--color-border);\"><img src=\"")
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				var templ_7745c5c3_Var5 string
				templ_7745c5c3_Var5, templ_7745c5c3_Err = templ.JoinStringErrs(img + "_w600" + templ.EscapeString(category.ImageExts[i]))
				if templ_7745c5c3_Err != nil {
					return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/components/portfolio_category.templ`, Line: 55, Col: 96}
				}
				_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var5))
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 5, "\" class=\"h-full min-w-full object-cover transition-transform duration-500 group-hover:scale-105\" loading=\"lazy\"><div class=\"absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center\" style=\"background-color: rgba(0,0,0,0.5);\"><span class=\"uppercase tracking-widest text-xs border px-4 py-2 text-white\" style=\"border-color: white;\">View</span></div></div>")
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 6, "<!-- Spacer --><div class=\"flex-grow-[10] h-64 md:h-80\"></div></div><!-- More Collections --><div class=\"mt-24 border-t pt-16\" style=\"border-color: var(--color-border);\"><h3 class=\"text-2xl font-serif mb-8 text-center\" style=\"color: var(--color-text-primary);\">More Collections</h3><div class=\"grid grid-cols-1 md:grid-cols-3 gap-6\">")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			for _, cat := range allCategories {
				if cat.Name != category.Name {
					templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 7, "<a href=\"")
					if templ_7745c5c3_Err != nil {
						return templ_7745c5c3_Err
					}
					var templ_7745c5c3_Var6 templ.SafeURL
					templ_7745c5c3_Var6, templ_7745c5c3_Err = templ.JoinURLErrs(templ.SafeURL("/portfolio/" + cat.Name))
					if templ_7745c5c3_Err != nil {
						return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/components/portfolio_category.templ`, Line: 71, Col: 81}
					}
					_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var6))
					if templ_7745c5c3_Err != nil {
						return templ_7745c5c3_Err
					}
					templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 8, "\" class=\"group cursor-pointer relative aspect-[3/2] overflow-hidden border block\" style=\"border-color: var(--color-border); background-color: #1a1a1a;\">")
					if templ_7745c5c3_Err != nil {
						return templ_7745c5c3_Err
					}
					if cat.CoverImage != "" {
						templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 9, "<img src=\"")
						if templ_7745c5c3_Err != nil {
							return templ_7745c5c3_Err
						}
						var templ_7745c5c3_Var7 string
						templ_7745c5c3_Var7, templ_7745c5c3_Err = templ.JoinStringErrs(cat.CoverImage + "_w600" + templ.EscapeString(cat.CoverImageExt))
						if templ_7745c5c3_Err != nil {
							return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/components/portfolio_category.templ`, Line: 73, Col: 115}
						}
						_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var7))
						if templ_7745c5c3_Err != nil {
							return templ_7745c5c3_Err
						}
						templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 10, "\" alt=\"")
						if templ_7745c5c3_Err != nil {
							return templ_7745c5c3_Err
						}
						var templ_7745c5c3_Var8 string
						templ_7745c5c3_Var8, templ_7745c5c3_Err = templ.JoinStringErrs(cat.Name)
						if templ_7745c5c3_Err != nil {
							return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/components/portfolio_category.templ`, Line: 73, Col: 132}
						}
						_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var8))
						if templ_7745c5c3_Err != nil {
							return templ_7745c5c3_Err
						}
						templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 11, "\" class=\"w-full h-full object-cover opacity-60 group-hover:opacity-40 transition-all duration-500 group-hover:scale-105\" loading=\"lazy\">")
						if templ_7745c5c3_Err != nil {
							return templ_7745c5c3_Err
						}
					} else {
						templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 12, "<div class=\"w-full h-full flex items-center justify-center\" style=\"background-color: rgba(128,128,128,0.1); color: #999;\"><span>No Preview</span></div>")
						if templ_7745c5c3_Err != nil {
							return templ_7745c5c3_Err
						}
					}
					templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 13, "<div class=\"absolute inset-0 flex items-center justify-center\"><span class=\"text-xl font-serif tracking-wide group-hover:-translate-y-1 transition-transform duration-300 text-white\">")
					if templ_7745c5c3_Err != nil {
						return templ_7745c5c3_Err
					}
					var templ_7745c5c3_Var9 string
					templ_7745c5c3_Var9, templ_7745c5c3_Err = templ.JoinStringErrs(cat.Name)
					if templ_7745c5c3_Err != nil {
						return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/components/portfolio_category.templ`, Line: 80, Col: 169}
					}
					_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var9))
					if templ_7745c5c3_Err != nil {
						return templ_7745c5c3_Err
					}
					templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 14, "</span></div></a>")
					if templ_7745c5c3_Err != nil {
						return templ_7745c5c3_Err
					}
				}
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 15, "</div></div></div><!-- Lightbox Modal (Single Image) --><div x-show=\"lightboxOpen\" x-transition:enter=\"transition ease-out duration-300\" x-transition:enter-start=\"opacity-0\" x-transition:enter-end=\"opacity-100\" x-transition:leave=\"transition ease-in duration-200\" x-transition:leave-start=\"opacity-100\" x-transition:leave-end=\"opacity-0\" class=\"fixed inset-0 z-50 bg-black flex items-center justify-center\" style=\"display: none;\" @keydown.escape.window=\"closeLightbox()\" @keydown.arrow-right.window=\"nextImage()\" @keydown.arrow-left.window=\"prevImage()\"><!-- Background Click Listener (to close) --><div class=\"absolute inset-0 z-0\" @click=\"closeLightbox()\"></div><!-- Close Button (Moved for better mobile access) --><button @click.stop=\"closeLightbox()\" class=\"absolute top-4 right-4 md:top-6 md:right-6 text-silver-400 hover:text-white z-50 p-4 bg-black/20 rounded-full backdrop-blur-sm\"><svg xmlns=\"http://www.w3.org/2000/svg\" class=\"h-6 w-6 md:h-8 md:w-8\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\"><path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M6 18L18 6M6 6l12 12\"></path></svg></button><!-- Navigation Arrows --><button @click.stop=\"prevImage()\" class=\"absolute left-2 md:left-8 text-silver-400 hover:text-white p-2 md:p-4 z-50 hover:bg-white/5 rounded-full transition-colors\"><svg xmlns=\"http://www.w3.org/2000/svg\" class=\"h-8 w-8 md:h-12 md:w-12\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\"><path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M15 19l-7-7 7-7\"></path></svg></button> <button @click.stop=\"nextImage()\" class=\"absolute right-2 md:right-8 text-silver-400 hover:text-white p-2 md:p-4 z-50 hover:bg-white/5 rounded-full transition-colors\"><svg xmlns=\"http://www.w3.org/2000/svg\" class=\"h-8 w-8 md:h-12 md:w-12\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\"><path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9 5l7 7-7 7\"></path></svg></button><!-- Read Story Button --><template x-if=\"lightboxImage && photoToBlog[lightboxImage]\"><a :href=\"'/blog/' + photoToBlog[lightboxImage]\" class=\"absolute bottom-8 left-1/2 transform -translate-x-1/2 z-50 inline-block border border-silver-400 bg-black/50 backdrop-blur text-silver-400 px-6 py-3 uppercase tracking-widest text-sm hover:bg-silver-400 hover:text-black transition-colors\">Read Story</a></template><!-- Main Image --><div class=\"w-full h-full flex items-center justify-center p-4 md:p-12\"><img :src=\"lightboxImage + '_w1600' + '.jpg'\" class=\"max-w-full max-h-full object-contain shadow-2xl shadow-black\"></div></div></div>")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			return nil
		})
		templ_7745c5c3_Err = Layout(category.Name+" | Portfolio").Render(templ.WithChildren(ctx, templ_7745c5c3_Var2), templ_7745c5c3_Buffer)
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		return nil
	})
}

var _ = templruntime.GeneratedTemplate
